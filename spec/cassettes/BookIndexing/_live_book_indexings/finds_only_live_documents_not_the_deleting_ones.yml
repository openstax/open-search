---
http_interactions:
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: "{}"
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.ListTables
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190501T195638Z
      X-Amz-Content-Sha256:
      - 44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190501/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '2'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Wed, 01 May 2019 19:56:39 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '17'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - F0VQHDPGC0P0LLNJAU87T8Q0KJVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '1315925753'
    body:
      encoding: UTF-8
      string: '{"TableNames":[]}'
    http_version: 
  recorded_at: Wed, 01 May 2019 19:56:39 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: "{}"
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.ListTables
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190501T195639Z
      X-Amz-Content-Sha256:
      - 44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190501/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '2'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Wed, 01 May 2019 19:56:39 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '17'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 3MKKL4G2RV1H7MHEOOIBSMAQMBVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '1315925753'
    body:
      encoding: UTF-8
      string: '{"TableNames":[]}'
    http_version: 
  recorded_at: Wed, 01 May 2019 19:56:39 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing","ProvisionedThroughput":{"ReadCapacityUnits":100,"WriteCapacityUnits":20},"KeySchema":[{"AttributeName":"id","KeyType":"HASH"}],"AttributeDefinitions":[{"AttributeName":"id","AttributeType":"S"}]}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.CreateTable
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190501T195639Z
      X-Amz-Content-Sha256:
      - cc4741e1cc8068b421b49b3285c5618157ea09ca79bd6a55cfa53c16bf3886c2
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190501/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '225'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Wed, 01 May 2019 19:56:40 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '491'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - HPSTSJ173F6KVIGJP7PVD3OJTBVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '2058155006'
    body:
      encoding: UTF-8
      string: '{"TableDescription":{"AttributeDefinitions":[{"AttributeName":"id","AttributeType":"S"}],"CreationDateTime":1.556740600126E9,"ItemCount":0,"KeySchema":[{"AttributeName":"id","KeyType":"HASH"}],"ProvisionedThroughput":{"NumberOfDecreasesToday":0,"ReadCapacityUnits":100,"WriteCapacityUnits":20},"TableArn":"arn:aws:dynamodb:us-east-2:AWS_ACCOUNT_ID:table/test_indexing","TableId":"c0ac7ab4-aae7-40ac-8cd0-c79bf28ed8cb","TableName":"test_indexing","TableSizeBytes":0,"TableStatus":"CREATING"}}'
    http_version: 
  recorded_at: Wed, 01 May 2019 19:56:40 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing"}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.DescribeTable
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190501T195642Z
      X-Amz-Content-Sha256:
      - b769faf39a6d0d44a0e395242dec7e6988e15b38ec5ad2735c8e20b1cb6c56c3
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190501/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '29'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Wed, 01 May 2019 19:56:42 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '480'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - VNN988OLF7JEOKC3MSPROQ9L0BVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '3345037816'
    body:
      encoding: UTF-8
      string: '{"Table":{"AttributeDefinitions":[{"AttributeName":"id","AttributeType":"S"}],"CreationDateTime":1.556740600126E9,"ItemCount":0,"KeySchema":[{"AttributeName":"id","KeyType":"HASH"}],"ProvisionedThroughput":{"NumberOfDecreasesToday":0,"ReadCapacityUnits":100,"WriteCapacityUnits":20},"TableArn":"arn:aws:dynamodb:us-east-2:AWS_ACCOUNT_ID:table/test_indexing","TableId":"c0ac7ab4-aae7-40ac-8cd0-c79bf28ed8cb","TableName":"test_indexing","TableSizeBytes":0,"TableStatus":"CREATING"}}'
    http_version: 
  recorded_at: Wed, 01 May 2019 19:56:42 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing"}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.DescribeTable
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190501T195644Z
      X-Amz-Content-Sha256:
      - b769faf39a6d0d44a0e395242dec7e6988e15b38ec5ad2735c8e20b1cb6c56c3
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190501/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '29'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Wed, 01 May 2019 19:56:45 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '480'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - FGHJSIQG4K7PNCB7CT6JKEFLLFVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '3345037816'
    body:
      encoding: UTF-8
      string: '{"Table":{"AttributeDefinitions":[{"AttributeName":"id","AttributeType":"S"}],"CreationDateTime":1.556740600126E9,"ItemCount":0,"KeySchema":[{"AttributeName":"id","KeyType":"HASH"}],"ProvisionedThroughput":{"NumberOfDecreasesToday":0,"ReadCapacityUnits":100,"WriteCapacityUnits":20},"TableArn":"arn:aws:dynamodb:us-east-2:AWS_ACCOUNT_ID:table/test_indexing","TableId":"c0ac7ab4-aae7-40ac-8cd0-c79bf28ed8cb","TableName":"test_indexing","TableSizeBytes":0,"TableStatus":"CREATING"}}'
    http_version: 
  recorded_at: Wed, 01 May 2019 19:56:45 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing"}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.DescribeTable
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190501T195647Z
      X-Amz-Content-Sha256:
      - b769faf39a6d0d44a0e395242dec7e6988e15b38ec5ad2735c8e20b1cb6c56c3
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190501/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '29'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Wed, 01 May 2019 19:56:48 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '478'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 11CKICD792NG19GA2H1MTR3I13VV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '2386106761'
    body:
      encoding: UTF-8
      string: '{"Table":{"AttributeDefinitions":[{"AttributeName":"id","AttributeType":"S"}],"CreationDateTime":1.556740600126E9,"ItemCount":0,"KeySchema":[{"AttributeName":"id","KeyType":"HASH"}],"ProvisionedThroughput":{"NumberOfDecreasesToday":0,"ReadCapacityUnits":100,"WriteCapacityUnits":20},"TableArn":"arn:aws:dynamodb:us-east-2:AWS_ACCOUNT_ID:table/test_indexing","TableId":"c0ac7ab4-aae7-40ac-8cd0-c79bf28ed8cb","TableName":"test_indexing","TableSizeBytes":0,"TableStatus":"ACTIVE"}}'
    http_version: 
  recorded_at: Wed, 01 May 2019 19:56:48 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: "{}"
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.ListTables
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190501T195648Z
      X-Amz-Content-Sha256:
      - 44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190501/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '2'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Wed, 01 May 2019 19:56:48 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '32'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - LTIGORK37EASU1FVCLHD8ORDEVVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '3848362501'
    body:
      encoding: UTF-8
      string: '{"TableNames":["test_indexing"]}'
    http_version: 
  recorded_at: Wed, 01 May 2019 19:56:48 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing","Item":{"created_at":{"N":"1556740608.665205"},"updated_at":{"N":"1556740608.665543"},"id":{"S":"c9f11f31-263d-456a-8fd6-affa459d57b1"},"state":{"S":"pending"},"book_version_id":{"S":"book@1"},"indexing_version":{"S":"I1"}},"Expected":{"id":{"Exists":false}}}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.PutItem
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190501T195648Z
      X-Amz-Content-Sha256:
      - 79357b7730fefd0a1f25d227061a7f829df2e18ae536e0a69866a725434b25de
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190501/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '288'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Wed, 01 May 2019 19:56:48 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '2'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 8MVG2388R3S73JB356RR4EB63VVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '2745614147'
    body:
      encoding: UTF-8
      string: "{}"
    http_version: 
  recorded_at: Wed, 01 May 2019 19:56:48 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing","Item":{"created_at":{"N":"1556740608.98884"},"updated_at":{"N":"1556740608.988959"},"id":{"S":"50c5c47c-af71-40f4-a6cd-3f79a27a8c11"},"state":{"S":"delete
        pending"},"book_version_id":{"S":"book@1"},"indexing_version":{"S":"I1"}},"Expected":{"id":{"Exists":false}}}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.PutItem
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190501T195648Z
      X-Amz-Content-Sha256:
      - cdab4b4a5844a8df469939723a05a6e0fa2b72f2b8ebd55d3e7b3655589fae24
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190501/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '294'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Wed, 01 May 2019 19:56:49 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '2'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 5SGNOKNMGV90FUCC2D1LS1ERLNVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '2745614147'
    body:
      encoding: UTF-8
      string: "{}"
    http_version: 
  recorded_at: Wed, 01 May 2019 19:56:49 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing","Item":{"created_at":{"N":"1556740609.428539"},"updated_at":{"N":"1556740609.428659"},"id":{"S":"c7c0f454-35bd-4099-81cc-e9e62e3d9fe5"},"state":{"S":"deleted"},"book_version_id":{"S":"book@1"},"indexing_version":{"S":"I1"}},"Expected":{"id":{"Exists":false}}}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.PutItem
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190501T195649Z
      X-Amz-Content-Sha256:
      - 4c608cf9bd673754f152af0f87af3f1b405665366413e6ca896958680db4e7e5
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190501/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '288'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Wed, 01 May 2019 19:56:49 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '2'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - BLVLHKPEH1TH9HB2VFCLBUMGAFVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '2745614147'
    body:
      encoding: UTF-8
      string: "{}"
    http_version: 
  recorded_at: Wed, 01 May 2019 19:56:49 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing"}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.DescribeTable
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190501T195649Z
      X-Amz-Content-Sha256:
      - b769faf39a6d0d44a0e395242dec7e6988e15b38ec5ad2735c8e20b1cb6c56c3
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190501/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '29'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Wed, 01 May 2019 19:56:49 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '478'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 0TAQGO46T5HFBTRS1RQN2449BVVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '2386106761'
    body:
      encoding: UTF-8
      string: '{"Table":{"AttributeDefinitions":[{"AttributeName":"id","AttributeType":"S"}],"CreationDateTime":1.556740600126E9,"ItemCount":0,"KeySchema":[{"AttributeName":"id","KeyType":"HASH"}],"ProvisionedThroughput":{"NumberOfDecreasesToday":0,"ReadCapacityUnits":100,"WriteCapacityUnits":20},"TableArn":"arn:aws:dynamodb:us-east-2:AWS_ACCOUNT_ID:table/test_indexing","TableId":"c0ac7ab4-aae7-40ac-8cd0-c79bf28ed8cb","TableName":"test_indexing","TableSizeBytes":0,"TableStatus":"ACTIVE"}}'
    http_version: 
  recorded_at: Wed, 01 May 2019 19:56:50 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing","ScanFilter":{}}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.Scan
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190501T195650Z
      X-Amz-Content-Sha256:
      - fa367b39423b3c7d2c1dc1c973fa658c3d085ee3123624f53579fdc2b8d8f0ce
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190501/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '45'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Wed, 01 May 2019 19:56:50 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '695'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - GM73K1172A8A11UF12PGV3P8MNVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '1632690132'
    body:
      encoding: UTF-8
      string: '{"Count":3,"Items":[{"updated_at":{"N":"1556740608.665543"},"indexing_version":{"S":"I1"},"created_at":{"N":"1556740608.665205"},"id":{"S":"c9f11f31-263d-456a-8fd6-affa459d57b1"},"book_version_id":{"S":"book@1"},"state":{"S":"pending"}},{"updated_at":{"N":"1556740608.988959"},"indexing_version":{"S":"I1"},"created_at":{"N":"1556740608.98884"},"id":{"S":"50c5c47c-af71-40f4-a6cd-3f79a27a8c11"},"book_version_id":{"S":"book@1"},"state":{"S":"delete
        pending"}},{"updated_at":{"N":"1556740609.428659"},"indexing_version":{"S":"I1"},"created_at":{"N":"1556740609.428539"},"id":{"S":"c7c0f454-35bd-4099-81cc-e9e62e3d9fe5"},"book_version_id":{"S":"book@1"},"state":{"S":"deleted"}}],"ScannedCount":3}'
    http_version: 
  recorded_at: Wed, 01 May 2019 19:56:50 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing","ScanFilter":{}}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.Scan
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190501T195650Z
      X-Amz-Content-Sha256:
      - fa367b39423b3c7d2c1dc1c973fa658c3d085ee3123624f53579fdc2b8d8f0ce
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190501/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '45'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Wed, 01 May 2019 19:56:50 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '695'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 1APOPEDMSNR9IGQBBD35LKDJ5VVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '1632690132'
    body:
      encoding: UTF-8
      string: '{"Count":3,"Items":[{"updated_at":{"N":"1556740608.665543"},"indexing_version":{"S":"I1"},"created_at":{"N":"1556740608.665205"},"id":{"S":"c9f11f31-263d-456a-8fd6-affa459d57b1"},"book_version_id":{"S":"book@1"},"state":{"S":"pending"}},{"updated_at":{"N":"1556740608.988959"},"indexing_version":{"S":"I1"},"created_at":{"N":"1556740608.98884"},"id":{"S":"50c5c47c-af71-40f4-a6cd-3f79a27a8c11"},"book_version_id":{"S":"book@1"},"state":{"S":"delete
        pending"}},{"updated_at":{"N":"1556740609.428659"},"indexing_version":{"S":"I1"},"created_at":{"N":"1556740609.428539"},"id":{"S":"c7c0f454-35bd-4099-81cc-e9e62e3d9fe5"},"book_version_id":{"S":"book@1"},"state":{"S":"deleted"}}],"ScannedCount":3}'
    http_version: 
  recorded_at: Wed, 01 May 2019 19:56:50 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing"}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.DeleteTable
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190501T195650Z
      X-Amz-Content-Sha256:
      - b769faf39a6d0d44a0e395242dec7e6988e15b38ec5ad2735c8e20b1cb6c56c3
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190501/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '29'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Wed, 01 May 2019 19:56:51 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '333'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - K6JVQ8QTDTODRN4AU9V3QSUPA7VV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '3490350063'
    body:
      encoding: UTF-8
      string: '{"TableDescription":{"ItemCount":0,"ProvisionedThroughput":{"NumberOfDecreasesToday":0,"ReadCapacityUnits":100,"WriteCapacityUnits":20},"TableArn":"arn:aws:dynamodb:us-east-2:AWS_ACCOUNT_ID:table/test_indexing","TableId":"c0ac7ab4-aae7-40ac-8cd0-c79bf28ed8cb","TableName":"test_indexing","TableSizeBytes":0,"TableStatus":"DELETING"}}'
    http_version: 
  recorded_at: Wed, 01 May 2019 19:56:51 GMT
recorded_with: VCR 4.0.0
