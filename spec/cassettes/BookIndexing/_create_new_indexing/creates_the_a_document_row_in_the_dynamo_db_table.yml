---
http_interactions:
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: "{}"
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.ListTables
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T205431Z
      X-Amz-Content-Sha256:
      - 44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '2'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 20:54:31 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '59'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 2RADVUNC13KP32C27EGG58J37JVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '2355711749'
    body:
      encoding: UTF-8
      string: '{"TableNames":["open_search_dev_indexing","test_indexing"]}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 20:54:32 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: "{}"
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.ListTables
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T205447Z
      X-Amz-Content-Sha256:
      - 44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '2'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 20:54:47 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '59'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - VRJGVFSTVEHMTLD5P65C2EK957VV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '2355711749'
    body:
      encoding: UTF-8
      string: '{"TableNames":["open_search_dev_indexing","test_indexing"]}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 20:54:47 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: "{}"
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.ListTables
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T205502Z
      X-Amz-Content-Sha256:
      - 44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '2'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 20:55:03 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '59'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - TO766R11KON8J8PPRQQNPQ2TC3VV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '2355711749'
    body:
      encoding: UTF-8
      string: '{"TableNames":["open_search_dev_indexing","test_indexing"]}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 20:55:03 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: "{}"
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.ListTables
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T205518Z
      X-Amz-Content-Sha256:
      - 44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '2'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 20:55:19 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '59'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - OT7IUDP3INOSMNQCRAU39F87JRVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '2355711749'
    body:
      encoding: UTF-8
      string: '{"TableNames":["open_search_dev_indexing","test_indexing"]}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 20:55:19 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: "{}"
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.ListTables
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T205534Z
      X-Amz-Content-Sha256:
      - 44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '2'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 20:55:34 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '59'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - BANE20N0SD04T6IPQ13OVA9JT3VV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '2355711749'
    body:
      encoding: UTF-8
      string: '{"TableNames":["open_search_dev_indexing","test_indexing"]}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 20:55:34 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: "{}"
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.ListTables
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T205534Z
      X-Amz-Content-Sha256:
      - 44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '2'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 20:55:34 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '59'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 1B456815Q2A53DR1J1JFMF8NHFVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '2355711749'
    body:
      encoding: UTF-8
      string: '{"TableNames":["open_search_dev_indexing","test_indexing"]}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 20:55:35 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: "{}"
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.ListTables
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T205535Z
      X-Amz-Content-Sha256:
      - 44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '2'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 20:55:35 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '59'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - JR0G3D8GGNFN79PSGC8S8C6OSRVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '2355711749'
    body:
      encoding: UTF-8
      string: '{"TableNames":["open_search_dev_indexing","test_indexing"]}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 20:55:35 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing","Item":{"created_at":{"N":"1556657735.5781"},"updated_at":{"N":"1556657735.578373"},"id":{"S":"1f1041be-4750-481e-95d0-d08f35b8d06c"},"state":{"S":"pending"},"book_version_id":{"S":"14fb4ad7-39a1-4eee-ab6e-3ef2482e3e22@15.1"},"indexing_version":{"S":"I1"},"enqueued_time":{"S":"2019-04-30T20:55:35+00:00"}},"Expected":{"id":{"Exists":false}}}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.PutItem
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T205535Z
      X-Amz-Content-Sha256:
      - ddaf2fa38e13e8dffb6b061ee405b14cc15d950da3ac9f2082f4ee96502fab71
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '371'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 20:55:35 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '2'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - M4TDE38301VILMJNDENDOB4A23VV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '2745614147'
    body:
      encoding: UTF-8
      string: "{}"
    http_version: 
  recorded_at: Tue, 30 Apr 2019 20:55:35 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing"}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.DescribeTable
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T205535Z
      X-Amz-Content-Sha256:
      - b769faf39a6d0d44a0e395242dec7e6988e15b38ec5ad2735c8e20b1cb6c56c3
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '29'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 20:55:36 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '476'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - TN9CTAMUBIM6J5C81P7589D99JVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '1344357779'
    body:
      encoding: UTF-8
      string: '{"Table":{"AttributeDefinitions":[{"AttributeName":"id","AttributeType":"S"}],"CreationDateTime":1.5566575343E9,"ItemCount":0,"KeySchema":[{"AttributeName":"id","KeyType":"HASH"}],"ProvisionedThroughput":{"NumberOfDecreasesToday":0,"ReadCapacityUnits":100,"WriteCapacityUnits":20},"TableArn":"arn:aws:dynamodb:us-east-2:AWS_ACCOUNT_ID:table/test_indexing","TableId":"58484bf5-a9c2-48e1-9f61-766f39ff9682","TableName":"test_indexing","TableSizeBytes":0,"TableStatus":"ACTIVE"}}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 20:55:36 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"Select":"COUNT","TableName":"test_indexing","ScanFilter":{"book_version_id":{"ComparisonOperator":"EQ","AttributeValueList":[{"S":"14fb4ad7-39a1-4eee-ab6e-3ef2482e3e22@15.1"}]}}}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.Scan
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T205536Z
      X-Amz-Content-Sha256:
      - b84a3d8bdb90e1f0fe070e6d13574987a68176202ec991250b7c97c81f189140
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '180'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 20:55:36 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '28'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - LMH2QD67301FFF6QRETC4KQJE3VV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '788233591'
    body:
      encoding: UTF-8
      string: '{"Count":1,"ScannedCount":1}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 20:55:36 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing"}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.DeleteTable
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T205536Z
      X-Amz-Content-Sha256:
      - b769faf39a6d0d44a0e395242dec7e6988e15b38ec5ad2735c8e20b1cb6c56c3
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '29'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 20:55:36 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '333'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 3IH1ECS8HTQBQV2O38C8KGQFUVVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '2012432960'
    body:
      encoding: UTF-8
      string: '{"TableDescription":{"ItemCount":0,"ProvisionedThroughput":{"NumberOfDecreasesToday":0,"ReadCapacityUnits":100,"WriteCapacityUnits":20},"TableArn":"arn:aws:dynamodb:us-east-2:AWS_ACCOUNT_ID:table/test_indexing","TableId":"58484bf5-a9c2-48e1-9f61-766f39ff9682","TableName":"test_indexing","TableSizeBytes":0,"TableStatus":"DELETING"}}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 20:55:36 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: "{}"
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.ListTables
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T210217Z
      X-Amz-Content-Sha256:
      - 44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '2'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 21:02:17 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '43'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - EKJ2L17MM0Q151MN81UF9IKC67VV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '2698652359'
    body:
      encoding: UTF-8
      string: '{"TableNames":["open_search_dev_indexing"]}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 21:02:17 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: "{}"
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.ListTables
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T210217Z
      X-Amz-Content-Sha256:
      - 44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '2'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 21:02:18 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '43'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - KGQUTP86B8VPCQL5CCMBG8B6H7VV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '2698652359'
    body:
      encoding: UTF-8
      string: '{"TableNames":["open_search_dev_indexing"]}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 21:02:18 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing","ProvisionedThroughput":{"ReadCapacityUnits":100,"WriteCapacityUnits":20},"KeySchema":[{"AttributeName":"id","KeyType":"HASH"}],"AttributeDefinitions":[{"AttributeName":"id","AttributeType":"S"}]}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.CreateTable
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T210218Z
      X-Amz-Content-Sha256:
      - cc4741e1cc8068b421b49b3285c5618157ea09ca79bd6a55cfa53c16bf3886c2
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '225'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 21:02:18 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '491'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - P44BQEIJ2R0L31JA3D1SFT0BABVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '3078340428'
    body:
      encoding: UTF-8
      string: '{"TableDescription":{"AttributeDefinitions":[{"AttributeName":"id","AttributeType":"S"}],"CreationDateTime":1.556658138464E9,"ItemCount":0,"KeySchema":[{"AttributeName":"id","KeyType":"HASH"}],"ProvisionedThroughput":{"NumberOfDecreasesToday":0,"ReadCapacityUnits":100,"WriteCapacityUnits":20},"TableArn":"arn:aws:dynamodb:us-east-2:AWS_ACCOUNT_ID:table/test_indexing","TableId":"04b0733e-e65a-4e9e-b3f9-63635c9fcd63","TableName":"test_indexing","TableSizeBytes":0,"TableStatus":"CREATING"}}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 21:02:18 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing"}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.DescribeTable
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T210220Z
      X-Amz-Content-Sha256:
      - b769faf39a6d0d44a0e395242dec7e6988e15b38ec5ad2735c8e20b1cb6c56c3
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '29'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 21:02:20 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '480'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - GKQO55P5GE4EDEFNVMK56A42GJVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '179729738'
    body:
      encoding: UTF-8
      string: '{"Table":{"AttributeDefinitions":[{"AttributeName":"id","AttributeType":"S"}],"CreationDateTime":1.556658138464E9,"ItemCount":0,"KeySchema":[{"AttributeName":"id","KeyType":"HASH"}],"ProvisionedThroughput":{"NumberOfDecreasesToday":0,"ReadCapacityUnits":100,"WriteCapacityUnits":20},"TableArn":"arn:aws:dynamodb:us-east-2:AWS_ACCOUNT_ID:table/test_indexing","TableId":"04b0733e-e65a-4e9e-b3f9-63635c9fcd63","TableName":"test_indexing","TableSizeBytes":0,"TableStatus":"CREATING"}}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 21:02:21 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing"}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.DescribeTable
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T210223Z
      X-Amz-Content-Sha256:
      - b769faf39a6d0d44a0e395242dec7e6988e15b38ec5ad2735c8e20b1cb6c56c3
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '29'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 21:02:23 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '480'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 88JQ7S590SMGDLL7GOTCF093PNVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '179729738'
    body:
      encoding: UTF-8
      string: '{"Table":{"AttributeDefinitions":[{"AttributeName":"id","AttributeType":"S"}],"CreationDateTime":1.556658138464E9,"ItemCount":0,"KeySchema":[{"AttributeName":"id","KeyType":"HASH"}],"ProvisionedThroughput":{"NumberOfDecreasesToday":0,"ReadCapacityUnits":100,"WriteCapacityUnits":20},"TableArn":"arn:aws:dynamodb:us-east-2:AWS_ACCOUNT_ID:table/test_indexing","TableId":"04b0733e-e65a-4e9e-b3f9-63635c9fcd63","TableName":"test_indexing","TableSizeBytes":0,"TableStatus":"CREATING"}}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 21:02:23 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing"}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.DescribeTable
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T210225Z
      X-Amz-Content-Sha256:
      - b769faf39a6d0d44a0e395242dec7e6988e15b38ec5ad2735c8e20b1cb6c56c3
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '29'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 21:02:26 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '478'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 49FP9F00TSAHGOFS3TV97EMAERVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '3289967753'
    body:
      encoding: UTF-8
      string: '{"Table":{"AttributeDefinitions":[{"AttributeName":"id","AttributeType":"S"}],"CreationDateTime":1.556658138464E9,"ItemCount":0,"KeySchema":[{"AttributeName":"id","KeyType":"HASH"}],"ProvisionedThroughput":{"NumberOfDecreasesToday":0,"ReadCapacityUnits":100,"WriteCapacityUnits":20},"TableArn":"arn:aws:dynamodb:us-east-2:AWS_ACCOUNT_ID:table/test_indexing","TableId":"04b0733e-e65a-4e9e-b3f9-63635c9fcd63","TableName":"test_indexing","TableSizeBytes":0,"TableStatus":"ACTIVE"}}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 21:02:26 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: "{}"
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.ListTables
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T210226Z
      X-Amz-Content-Sha256:
      - 44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '2'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 21:02:26 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '59'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - A45OHHDJF9SRE637SLLBNGE68JVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '2355711749'
    body:
      encoding: UTF-8
      string: '{"TableNames":["open_search_dev_indexing","test_indexing"]}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 21:02:26 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing","Item":{"created_at":{"N":"1556658146.814914"},"updated_at":{"N":"1556658146.815322"},"id":{"S":"67315c87-bb63-4bd1-9f20-2326b8f63f4a"},"state":{"S":"pending"},"book_version_id":{"S":"14fb4ad7-39a1-4eee-ab6e-3ef2482e3e22@15.1"},"indexing_version":{"S":"I1"},"enqueued_time":{"S":"2019-04-30T21:02:26+00:00"}},"Expected":{"id":{"Exists":false}}}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.PutItem
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T210226Z
      X-Amz-Content-Sha256:
      - 12d5850457148cf996b722857b7669175b3b22f003c821f87c5fea137c3e0fc4
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '373'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 21:02:26 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '2'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 85DGUQBQR7M846C67U487FL2F3VV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '2745614147'
    body:
      encoding: UTF-8
      string: "{}"
    http_version: 
  recorded_at: Tue, 30 Apr 2019 21:02:27 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing"}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.DescribeTable
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T210227Z
      X-Amz-Content-Sha256:
      - b769faf39a6d0d44a0e395242dec7e6988e15b38ec5ad2735c8e20b1cb6c56c3
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '29'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 21:02:27 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '478'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - ROQ2S17GU6K82POBUR1E0Q4Q4BVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '3289967753'
    body:
      encoding: UTF-8
      string: '{"Table":{"AttributeDefinitions":[{"AttributeName":"id","AttributeType":"S"}],"CreationDateTime":1.556658138464E9,"ItemCount":0,"KeySchema":[{"AttributeName":"id","KeyType":"HASH"}],"ProvisionedThroughput":{"NumberOfDecreasesToday":0,"ReadCapacityUnits":100,"WriteCapacityUnits":20},"TableArn":"arn:aws:dynamodb:us-east-2:AWS_ACCOUNT_ID:table/test_indexing","TableId":"04b0733e-e65a-4e9e-b3f9-63635c9fcd63","TableName":"test_indexing","TableSizeBytes":0,"TableStatus":"ACTIVE"}}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 21:02:27 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"Select":"COUNT","TableName":"test_indexing","ScanFilter":{"book_version_id":{"ComparisonOperator":"EQ","AttributeValueList":[{"S":"14fb4ad7-39a1-4eee-ab6e-3ef2482e3e22@15.1"}]}}}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.Scan
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T210227Z
      X-Amz-Content-Sha256:
      - b84a3d8bdb90e1f0fe070e6d13574987a68176202ec991250b7c97c81f189140
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '180'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 21:02:27 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '28'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - NUJKV04SG6O46U39E3S6UT7A8JVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '788233591'
    body:
      encoding: UTF-8
      string: '{"Count":1,"ScannedCount":1}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 21:02:27 GMT
- request:
    method: post
    uri: https://dynamodb.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"TableName":"test_indexing"}'
    headers:
      Content-Type:
      - application/x-amz-json-1.0
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.44.1 ruby/2.5.0 x86_64-darwin16 aws-sdk-dynamodb/1.21.0
      X-Amz-Target:
      - DynamoDB_20120810.DeleteTable
      Host:
      - dynamodb.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190430T210227Z
      X-Amz-Content-Sha256:
      - b769faf39a6d0d44a0e395242dec7e6988e15b38ec5ad2735c8e20b1cb6c56c3
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190430/us-east-2/dynamodb/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '29'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Server
      Date:
      - Tue, 30 Apr 2019 21:02:28 GMT
      Content-Type:
      - application/x-amz-json-1.0
      Content-Length:
      - '333'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - KVKJJ8TR0AF3CQIGE4FNLS42IJVV4KQNSO5AEMVJF66Q9ASUAAJG
      X-Amz-Crc32:
      - '3906415604'
    body:
      encoding: UTF-8
      string: '{"TableDescription":{"ItemCount":0,"ProvisionedThroughput":{"NumberOfDecreasesToday":0,"ReadCapacityUnits":100,"WriteCapacityUnits":20},"TableArn":"arn:aws:dynamodb:us-east-2:AWS_ACCOUNT_ID:table/test_indexing","TableId":"04b0733e-e65a-4e9e-b3f9-63635c9fcd63","TableName":"test_indexing","TableSizeBytes":0,"TableStatus":"DELETING"}}'
    http_version: 
  recorded_at: Tue, 30 Apr 2019 21:02:28 GMT
recorded_with: VCR 4.0.0
